(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n(23),l=n.n(c),o=(n(30),n(3)),s=n(2),i=n.n(s),d=n(7),u=n(5),p=(n(32),n(12)),j=n(4),b=(n(33),function(){return Object(r.jsxs)("div",{class:"wrapper",children:[Object(r.jsx)("div",{class:"auroral-northern"}),Object(r.jsx)("div",{class:"auroral-stars"}),Object(r.jsx)("div",{id:"title",children:"TODO LIST"}),Object(r.jsxs)("div",{id:"link-wrap",children:[Object(r.jsx)(p.b,{id:"register",to:"/register",children:"Register"}),Object(r.jsx)(p.b,{id:"login",to:"/login",children:"Log in"})]})]})}),m=n(14),h=(n(39),function(e){var t=e.setAuth,n=Object(a.useState)({email:"",password:""}),c=Object(u.a)(n,2),l=c[0],s=c[1],j=l.email,b=l.password,h=function(e){s(Object(o.a)(Object(o.a)({},l),{},Object(m.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(d.a)(i.a.mark((function e(n){var r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r={email:j,password:b},e.next=5,fetch("http://localhost:5000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 5:if(401!==(a=e.sent).status){e.next=9;break}return alert("Incorrect username or password"),e.abrupt("return");case 9:return e.next=11,a.json();case 11:c=e.sent,localStorage.setItem("token",c.token),t(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsx)("div",{className:"auroral-northern"}),Object(r.jsx)("div",{className:"auroral-stars"}),Object(r.jsx)("div",{id:"form-wrap",children:Object(r.jsxs)("form",{id:"form",onSubmit:O,children:[Object(r.jsx)("input",{type:"email",name:"email",placeholder:"email",onChange:h}),Object(r.jsx)("input",{type:"password",name:"password",placeholder:"password",onChange:h}),Object(r.jsxs)("div",{id:"link-wrap",children:[Object(r.jsx)("button",{children:"Login"}),Object(r.jsx)(p.b,{to:"/register",children:"Register"})]})]})})]})}),O=(n(40),function(e){var t=e.setAuth,n=Object(a.useState)({name:"",email:"",password:""}),c=Object(u.a)(n,2),l=c[0],s=c[1],p=l.name,j=l.email,b=l.password,h=function(e){s(Object(o.a)(Object(o.a)({},l),{},Object(m.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(d.a)(i.a.mark((function e(n){var r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r={name:p,email:j,password:b},e.next=5,fetch("http://localhost:5000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 5:if(401!==(a=e.sent).status){e.next=9;break}return alert("User with that email already exists"),e.abrupt("return");case 9:return e.next=11,a.json();case 11:c=e.sent,localStorage.setItem("token",c.token),t(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsx)("div",{className:"auroral-northern"}),Object(r.jsx)("div",{className:"auroral-stars"}),Object(r.jsx)("div",{id:"reg-wrap",children:Object(r.jsxs)("form",{id:"reg-form",onSubmit:O,children:[Object(r.jsx)("input",{type:"name",name:"name",placeholder:"name",onChange:h}),Object(r.jsx)("input",{type:"email",name:"email",placeholder:"email",onChange:h}),Object(r.jsx)("input",{type:"password",name:"password",placeholder:"password",onChange:h}),Object(r.jsx)("button",{children:"Submit"})]})})]})}),f=n(8);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var v=a.createElement("g",null,a.createElement("g",null,a.createElement("path",{d:"M392.533,238.937c-9.426,0-17.067,7.641-17.067,17.067V426.67c0,9.426-7.641,17.067-17.067,17.067H51.2 c-9.426,0-17.067-7.641-17.067-17.067V85.337c0-9.426,7.641-17.067,17.067-17.067H256c9.426,0,17.067-7.641,17.067-17.067 S265.426,34.137,256,34.137H51.2C22.923,34.137,0,57.06,0,85.337V426.67c0,28.277,22.923,51.2,51.2,51.2h307.2 c28.277,0,51.2-22.923,51.2-51.2V256.003C409.6,246.578,401.959,238.937,392.533,238.937z"}))),y=a.createElement("g",null,a.createElement("g",null,a.createElement("path",{d:"M458.742,19.142c-12.254-12.256-28.875-19.14-46.206-19.138c-17.341-0.05-33.979,6.846-46.199,19.149L141.534,243.937 c-1.865,1.879-3.272,4.163-4.113,6.673l-34.133,102.4c-2.979,8.943,1.856,18.607,10.799,21.585 c1.735,0.578,3.552,0.873,5.38,0.875c1.832-0.003,3.653-0.297,5.393-0.87l102.4-34.133c2.515-0.84,4.8-2.254,6.673-4.13 l224.802-224.802C484.25,86.023,484.253,44.657,458.742,19.142z M434.603,87.419L212.736,309.286l-66.287,22.135l22.067-66.202 L390.468,43.353c12.202-12.178,31.967-12.158,44.145,0.044c5.817,5.829,9.095,13.72,9.12,21.955 C443.754,73.631,440.467,81.575,434.603,87.419z"}))),w=a.createElement("g",null),E=a.createElement("g",null),k=a.createElement("g",null),C=a.createElement("g",null),S=a.createElement("g",null),N=a.createElement("g",null),_=a.createElement("g",null),I=a.createElement("g",null),P=a.createElement("g",null),T=a.createElement("g",null),z=a.createElement("g",null),M=a.createElement("g",null),D=a.createElement("g",null),L=a.createElement("g",null),A=a.createElement("g",null);function F(e,t){var n=e.title,r=e.titleId,c=x(e,["title","titleId"]);return a.createElement("svg",g({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 477.873 477.873",style:{enableBackground:"new 0 0 477.873 477.873"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,v,y,w,E,k,C,S,N,_,I,P,T,z,M,D,L,A)}var H=a.forwardRef(F),J=(n.p,function(e){var t=e.allCards,n=e.setAllCards,c=e.card,l=Object(a.useState)(""),s=Object(u.a)(l,2),p=s[0],j=s[1],b=function(){var e=Object(d.a)(i.a.mark((function e(r){var a,l,s,d,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopPropagation(),e.prev=1,a={cardName:p},(l=new Headers).append("Content-type","application/json"),l.append("token",localStorage.token),e.next=8,fetch("http://localhost:5000/todos/card/".concat(c.card_id),{method:"PUT",headers:l,body:JSON.stringify(a)});case 8:s=t.findIndex((function(e){return e.card_id===c.card_id&&e.user_id===c.user_id})),d=Object(o.a)(Object(o.a)({},t[s]),{},{card_name:p}),u=[].concat(Object(f.a)(t.slice(0,s)),[d],Object(f.a)(t.slice(s+1))),n(u),j(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(H,{type:"button","data-toggle":"modal","data-target":"#id".concat(c.card_id)}),Object(r.jsx)("div",{className:"modal fade",id:"id".concat(c.card_id),tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog",role:"document",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("div",{className:"modal-header",children:Object(r.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Rename Card"})}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsx)("input",{type:"text",placeholder:c.card_name,value:p,onChange:function(e){return j(e.target.value)}})}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:b,"data-dismiss":"modal",children:"Save changes"})]})]})})})]})});function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var V=a.createElement("path",{d:"m256 512c-141.160156 0-256-114.839844-256-256s114.839844-256 256-256 256 114.839844 256 256-114.839844 256-256 256zm0-475.429688c-120.992188 0-219.429688 98.4375-219.429688 219.429688s98.4375 219.429688 219.429688 219.429688 219.429688-98.4375 219.429688-219.429688-98.4375-219.429688-219.429688-219.429688zm0 0"}),U=a.createElement("path",{d:"m347.429688 365.714844c-4.679688 0-9.359376-1.785156-12.929688-5.359375l-182.855469-182.855469c-7.144531-7.144531-7.144531-18.714844 0-25.855469 7.140625-7.140625 18.714844-7.144531 25.855469 0l182.855469 182.855469c7.144531 7.144531 7.144531 18.714844 0 25.855469-3.570313 3.574219-8.246094 5.359375-12.925781 5.359375zm0 0"}),X=a.createElement("path",{d:"m164.570312 365.714844c-4.679687 0-9.355468-1.785156-12.925781-5.359375-7.144531-7.140625-7.144531-18.714844 0-25.855469l182.855469-182.855469c7.144531-7.144531 18.714844-7.144531 25.855469 0 7.140625 7.140625 7.144531 18.714844 0 25.855469l-182.855469 182.855469c-3.570312 3.574219-8.25 5.359375-12.929688 5.359375zm0 0"});function Y(e,t){var n=e.title,r=e.titleId,c=R(e,["title","titleId"]);return a.createElement("svg",B({height:"512pt",viewBox:"0 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,V,U,X)}var G=a.forwardRef(Y);n.p;function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Q=a.createElement("g",null,a.createElement("g",null,a.createElement("path",{d:"M508.745,246.041c-4.574-6.257-113.557-153.206-252.748-153.206S7.818,239.784,3.249,246.035 c-4.332,5.936-4.332,13.987,0,19.923c4.569,6.257,113.557,153.206,252.748,153.206s248.174-146.95,252.748-153.201 C513.083,260.028,513.083,251.971,508.745,246.041z M255.997,385.406c-102.529,0-191.33-97.533-217.617-129.418 c26.253-31.913,114.868-129.395,217.617-129.395c102.524,0,191.319,97.516,217.617,129.418 C447.361,287.923,358.746,385.406,255.997,385.406z"}))),W=a.createElement("g",null,a.createElement("g",null,a.createElement("path",{d:"M255.997,154.725c-55.842,0-101.275,45.433-101.275,101.275s45.433,101.275,101.275,101.275 s101.275-45.433,101.275-101.275S311.839,154.725,255.997,154.725z M255.997,323.516c-37.23,0-67.516-30.287-67.516-67.516 s30.287-67.516,67.516-67.516s67.516,30.287,67.516,67.516S293.227,323.516,255.997,323.516z"}))),Z=a.createElement("g",null),$=a.createElement("g",null),ee=a.createElement("g",null),te=a.createElement("g",null),ne=a.createElement("g",null),re=a.createElement("g",null),ae=a.createElement("g",null),ce=a.createElement("g",null),le=a.createElement("g",null),oe=a.createElement("g",null),se=a.createElement("g",null),ie=a.createElement("g",null),de=a.createElement("g",null),ue=a.createElement("g",null),pe=a.createElement("g",null);function je(e,t){var n=e.title,r=e.titleId,c=K(e,["title","titleId"]);return a.createElement("svg",q({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 511.999 511.999",style:{enableBackground:"new 0 0 511.999 511.999"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Q,W,Z,$,ee,te,ne,re,ae,ce,le,oe,se,ie,de,ue,pe)}var be=a.forwardRef(je),me=(n.p,function(e){var t=e.deleteCard,n=e.viewCard,c=e.allCards,l=e.setAllCards;return c.length>0?Object(r.jsx)(a.Fragment,{children:c.map((function(e){return Object(r.jsxs)("div",{className:"card",id:e.card_id,children:[Object(r.jsxs)("div",{className:"card-title-wrap",children:[Object(r.jsx)("span",{className:"title",children:e.card_name}),Object(r.jsxs)("span",{className:"task-num",children:[e.todos.length," Tasks"]})]}),Object(r.jsxs)("div",{className:"button-wrap",children:[Object(r.jsx)("div",{className:"edit-wrap",children:Object(r.jsx)(J,{allCards:c,setAllCards:l,card:e})}),Object(r.jsx)("div",{className:"view-wrap",onClick:n,children:Object(r.jsx)(be,{})}),Object(r.jsx)("div",{className:"del-wrap",onClick:t,children:Object(r.jsx)(G,{})})]})]},e.card_id)}))}):Object(r.jsx)("div",{children:"No cards"})}),he=function(e){var t=e.setMainCard,n=e.allCards,c=e.setAllCards,l=e.todo,s=Object(a.useState)(""),p=Object(u.a)(s,2),j=p[0],b=p[1],m=Object(a.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=new Date,v="";v=x.getMonth()+1<10?"".concat(x.getFullYear(),"-0").concat(x.getMonth()+1,"-").concat(x.getDate()):"".concat(x.getFullYear(),"-").concat(x.getMonth()+1,"-").concat(x.getDate());var y=Object(a.useState)(v),w=Object(u.a)(y,2),E=w[0],k=w[1],C=function(){var e=Object(d.a)(i.a.mark((function e(r){var a,s,d,u,p,m,h,x,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,a=l.card_id,s={title:j,priority:O,dueDate:E,cardId:a},(d=new Headers).append("Content-type","application/json"),d.append("token",localStorage.token),e.next=9,fetch("http://localhost:5000/todos/todo/".concat(l.todo_id),{method:"PUT",headers:d,body:JSON.stringify(s)});case 9:u=n.findIndex((function(e){return e.card_id===a})),p=n[u].todos.findIndex((function(e){return e.todo_id===l.todo_id})),m=Object(o.a)(Object(o.a)({},n[u].todos[p]),{},{todo_title:j,todo_priority:O,todo_due:E}),h=Object(f.a)(n[u].todos),x=[].concat(Object(f.a)(h.slice(0,p)),[m],Object(f.a)(h.slice(p+1))),v=n.map((function(e){return e.card_id===a?Object(o.a)(Object(o.a)({},e),{},{todos:x}):e})),t(v[u]),c(v),b(""),g(0),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(H,{type:"button","data-toggle":"modal","data-target":"#id".concat(l.todo_id)}),Object(r.jsx)("div",{className:"modal fade",id:"id".concat(l.todo_id),tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog",role:"document",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("div",{className:"modal-header",children:Object(r.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit Todo"})}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"todo-title",children:"Title"}),Object(r.jsx)("input",{value:j,onChange:function(e){return b(e.target.value)},type:"title",className:"form-control",id:"todo-title",placeholder:l.todo_title})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"todo-priority",children:"Priority"}),Object(r.jsxs)("select",{className:"form-control",name:"todo-priority",id:"todo-priority",value:O,onChange:function(e){return g(e.target.value)},children:[Object(r.jsx)("option",{value:0,children:"Low"}),Object(r.jsx)("option",{value:1,children:"Medium"}),Object(r.jsx)("option",{value:2,children:"High"})]})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"todo-due",children:"Due Date"}),Object(r.jsx)("input",{type:"date",className:"form-control",id:"todo-due",value:E,onChange:function(e){return k(e.target.value)}})]}),Object(r.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:C,"data-dismiss":"modal",children:"Submit"})]})})]})})})]})};n(41);function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ge=a.createElement("path",{d:"m232.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"}),xe=a.createElement("path",{d:"m114.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"}),ve=a.createElement("path",{d:"m28.398438 127.121094v246.378906c0 14.5625 5.339843 28.238281 14.667968 38.050781 9.285156 9.839844 22.207032 15.425781 35.730469 15.449219h189.203125c13.527344-.023438 26.449219-5.609375 35.730469-15.449219 9.328125-9.8125 14.667969-23.488281 14.667969-38.050781v-246.378906c18.542968-4.921875 30.558593-22.835938 28.078124-41.863282-2.484374-19.023437-18.691406-33.253906-37.878906-33.257812h-51.199218v-12.5c.058593-10.511719-4.097657-20.605469-11.539063-28.03125-7.441406-7.421875-17.550781-11.5546875-28.0625-11.46875h-88.796875c-10.511719-.0859375-20.621094 4.046875-28.0625 11.46875-7.441406 7.425781-11.597656 17.519531-11.539062 28.03125v12.5h-51.199219c-19.1875.003906-35.394531 14.234375-37.878907 33.257812-2.480468 19.027344 9.535157 36.941407 28.078126 41.863282zm239.601562 279.878906h-189.203125c-17.097656 0-30.398437-14.6875-30.398437-33.5v-245.5h250v245.5c0 18.8125-13.300782 33.5-30.398438 33.5zm-158.601562-367.5c-.066407-5.207031 1.980468-10.21875 5.675781-13.894531 3.691406-3.675781 8.714843-5.695313 13.925781-5.605469h88.796875c5.210937-.089844 10.234375 1.929688 13.925781 5.605469 3.695313 3.671875 5.742188 8.6875 5.675782 13.894531v12.5h-128zm-71.199219 32.5h270.398437c9.941406 0 18 8.058594 18 18s-8.058594 18-18 18h-270.398437c-9.941407 0-18-8.058594-18-18s8.058593-18 18-18zm0 0"}),ye=a.createElement("path",{d:"m173.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"});function we(e,t){var n=e.title,r=e.titleId,c=fe(e,["title","titleId"]);return a.createElement("svg",Oe({height:"427pt",viewBox:"-40 0 427 427.00131",width:"427pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,ge,xe,ve,ye)}var Ee=a.forwardRef(we);n.p;function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Se=a.createElement("g",null,a.createElement("path",{id:"Chevron_Right",d:"M57.633,129.007L165.93,237.268c4.752,4.74,12.451,4.74,17.215,0c4.752-4.74,4.752-12.439,0-17.179 l-99.707-99.671l99.695-99.671c4.752-4.74,4.752-12.439,0-17.191c-4.752-4.74-12.463-4.74-17.215,0L57.621,111.816 C52.942,116.507,52.942,124.327,57.633,129.007z"}),a.createElement("g",null),a.createElement("g",null),a.createElement("g",null),a.createElement("g",null),a.createElement("g",null),a.createElement("g",null)),Ne=a.createElement("g",null),_e=a.createElement("g",null),Ie=a.createElement("g",null),Pe=a.createElement("g",null),Te=a.createElement("g",null),ze=a.createElement("g",null),Me=a.createElement("g",null),De=a.createElement("g",null),Le=a.createElement("g",null),Ae=a.createElement("g",null),Fe=a.createElement("g",null),He=a.createElement("g",null),Je=a.createElement("g",null),Be=a.createElement("g",null),Re=a.createElement("g",null);function Ve(e,t){var n=e.title,r=e.titleId,c=Ce(e,["title","titleId"]);return a.createElement("svg",ke({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 240.823 240.823",style:{enableBackground:"new 0 0 240.823 240.823"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Se,Ne,_e,Ie,Pe,Te,ze,Me,De,Le,Ae,Fe,He,Je,Be,Re)}var Ue=a.forwardRef(Ve),Xe=(n.p,function(e){var t=e.setAuth,n=Object(a.useState)(""),c=Object(u.a)(n,2),l=c[0],s=c[1],p=Object(a.useState)(""),j=Object(u.a)(p,2),b=j[0],m=j[1],h=Object(a.useState)({}),O=Object(u.a)(h,2),g=O[0],x=O[1],v=Object(a.useState)(!1),y=Object(u.a)(v,2),w=y[0],E=y[1],k=Object(a.useState)(""),C=Object(u.a)(k,2),S=C[0],N=C[1],_=Object(a.useState)([]),I=Object(u.a)(_,2),P=I[0],T=I[1],z=function(){var e=Object(d.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(i.a.mark((function e(){var t,n,r,a,c,l,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/todos",{method:"GET",headers:{token:localStorage.token}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,r=Object(u.a)(n,2),a=r[0],c=r[1],(l=a.filter((function(e){return null!==e.card_id}))).length>0){for(x(l[0]),o=function(e){l[e].todos=c.filter((function(t){return t.card_id===l[e].card_id&&null!==t.todo_title}))},s=0;s<l.length;s++)o(s);T(l)}N(a[0].user_name);case 12:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),console.error(e.t1.message);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){z()}),[]);var M=function(){var e=Object(d.a)(i.a.mark((function e(t){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==l){e.next=3;break}return e.abrupt("return");case 3:return(n=new Headers).append("Content-type","application/json"),n.append("token",localStorage.token),r={cardName:l},e.prev=7,e.next=10,fetch("http://localhost:5000/todos/card",{method:"POST",headers:n,body:JSON.stringify(r)});case 10:return a=e.sent,e.next=13,a.json();case 13:(c=e.sent)[0].todos=[],T([].concat(Object(f.a)(P),[c[0]])),s(""),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),console.error(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(i.a.mark((function e(t){var n,r,a,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),t.preventDefault(),(n=new Headers).append("Content-type","application/json"),n.append("token",localStorage.token),r=t.currentTarget.parentElement.parentElement.id,a={cardId:r},e.prev=7,e.next=10,fetch("http://localhost:5000/todos/card",{method:"DELETE",headers:n,body:JSON.stringify(a)});case 10:return c=e.sent,e.next=13,c.json();case 13:l=P.filter((function(e){return e.card_id!==parseInt(r)})),T(l),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.error(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(i.a.mark((function e(t){var n,r,a,c,l,s,d,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==b){e.next=3;break}return e.abrupt("return");case 3:return(n=new Headers).append("Content-type","application/json"),n.append("token",localStorage.token),r=g.card_id,a={todoName:b,cardId:r},e.prev=8,e.next=11,fetch("http://localhost:5000/todos/todo",{method:"POST",headers:n,body:JSON.stringify(a)});case 11:return c=e.sent,e.next=14,c.json();case 14:l=e.sent,s=P.findIndex((function(e){return e.card_id===r})),d=[].concat(Object(f.a)(P[s].todos),[l.rows[0]]),(u=Object(o.a)({},P[s])).todos=d,(p=Object(f.a)(P))[s]=u,T(Object(f.a)(p)),x(u),m(""),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(8),console.error(e.t0.message);case 29:case"end":return e.stop()}}),e,null,[[8,26]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(i.a.mark((function e(t){var n,r,a,c,l,s,d,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new Headers).append("Content-type","application/json"),n.append("token",localStorage.token),r=g.card_id,a=t.currentTarget.parentElement.parentElement.id,c={cardId:r,todoId:a},e.prev=7,e.next=10,fetch("http://localhost:5000/todos/todo",{method:"DELETE",headers:n,body:JSON.stringify(c)});case 10:return l=e.sent,e.next=13,l.json();case 13:s=P.findIndex((function(e){return e.card_id===r})),d=P[s].todos.filter((function(e){return e.todo_id!==parseInt(a)})),(u=Object(o.a)({},P[s])).todos=d,(p=Object(f.a)(P))[s]=u,T(Object(f.a)(p)),x(u),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),console.error(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(a.Fragment,{children:w?Object(r.jsxs)("div",{id:"todos-wrap",children:[Object(r.jsx)("div",{id:"back",onClick:function(){E(!1)},children:Object(r.jsx)(Ue,{})}),Object(r.jsxs)("div",{id:"todo-top",children:[Object(r.jsx)("span",{id:"card-name",children:g.card_name}),Object(r.jsxs)("span",{id:"num-todo",children:[g.todos.length," Tasks"]})]}),Object(r.jsx)("div",{id:"todo-bottom",children:g.todos.map((function(e){var t=function(e){switch(e){case 0:return"prior low";case 1:return"prior med";case 2:return"prior high"}}(e.todo_priority);return Object(r.jsxs)("div",{className:"todo",id:e.todo_id,children:[Object(r.jsx)("div",{className:"todo-prior",children:Object(r.jsx)("div",{className:t})}),Object(r.jsx)("span",{className:"todo-title",children:e.todo_title}),Object(r.jsxs)("div",{className:"todo-inputs",children:[Object(r.jsx)(he,{setMainCard:x,allCards:P,setAllCards:T,todo:e}),Object(r.jsx)(Ee,{onClick:A}),Object(r.jsx)("input",{type:"checkbox"})]})]},e.todo_id)}))}),Object(r.jsxs)("form",{id:"todo-inp",onSubmit:L,children:[Object(r.jsx)("input",{value:b,type:"text",name:"todo",placeholder:"Todo title",onChange:function(e){return m(e.target.value)}}),Object(r.jsx)("button",{children:"Create Todo"})]})]}):Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("div",{id:"cards-top-wrap",children:Object(r.jsxs)("span",{children:["Hello, ",S]})}),Object(r.jsx)("div",{id:"cards-bot-wrap",children:Object(r.jsx)(me,{allCards:P,setAllCards:T,deleteCard:D,viewCard:function(e){var t=P.findIndex((function(t){return t.card_id===parseInt(e.currentTarget.parentElement.parentElement.id)}));x(P[t]),E(!0)}})}),Object(r.jsxs)("div",{id:"cards-footer",children:[Object(r.jsxs)("form",{onSubmit:M,children:[Object(r.jsx)("input",{value:l,type:"text",name:"card",placeholder:"Card title",onChange:function(e){return s(e.target.value)}}),Object(r.jsx)("button",{children:"Create Card"})]}),Object(r.jsx)("button",{onClick:function(e){e.preventDefault(),localStorage.removeItem("token"),t(!1)},children:"Logout"})]})]})})});var Ye=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],l=function(e){c(e)},s=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/auth/is-verify",{method:"GET",headers:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c(!0===n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),[]),Object(r.jsx)(a.Fragment,{children:Object(r.jsx)(p.a,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",render:function(e){return n?Object(r.jsx)(j.a,{to:"/todos"}):Object(r.jsx)(b,Object(o.a)({},e))}}),Object(r.jsx)(j.b,{exact:!0,path:"/login",render:function(e){return n?Object(r.jsx)(j.a,{to:"/todos"}):Object(r.jsx)(h,Object(o.a)(Object(o.a)({},e),{},{setAuth:l}))}}),Object(r.jsx)(j.b,{exact:!0,path:"/register",render:function(e){return n?Object(r.jsx)(j.a,{to:"/login"}):Object(r.jsx)(O,Object(o.a)(Object(o.a)({},e),{},{setAuth:l}))}}),Object(r.jsx)(j.b,{exact:!0,path:"/todos",render:function(e){return n?Object(r.jsx)(Xe,Object(o.a)(Object(o.a)({},e),{},{setAuth:l})):Object(r.jsx)(j.a,{to:"/login"})}})]})})})};l.a.render(Object(r.jsx)(Ye,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.7b64ee7b.chunk.js.map